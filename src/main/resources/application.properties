# ==============================================
# CONFIGURAÇÕES DO BANCO DE DADOS POSTGRESQL
# ==============================================

# URL de conexão com o banco de dados
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=academic_user
quarkus.datasource.password=academic_pass
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5433/academic_db

# Configurações JDBC  
quarkus.datasource.jdbc.driver=org.postgresql.Driver

# Tamanho do pool de conexões
quarkus.datasource.jdbc.min-size=5
quarkus.datasource.jdbc.max-size=20

# ==============================================
# CONFIGURAÇÕES DO HIBERNATE/JPA
# ==============================================

quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.log.format-sql=true
quarkus.hibernate-orm.log.bind-parameters=true
quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect

# ==============================================
# CONFIGURAÇÕES DE LOGS 
# ==============================================

quarkus.log.level=INFO
quarkus.log.category."org.hibernate".level=DEBUG
quarkus.log.category."io.quarkus.resteasy".level=DEBUG

# ==============================================
# PORTA DA APLICAÇÃO   
# ==============================================

quarkus.http.port=8080 

# ==============================================
# DOCUMENTAÇÃO SWAGGER/OPENAPI
# ==============================================
quarkus.swagger-ui.always-include=true

# Caminho do Swagger UI: http://localhost:8080/q/swagger-ui
quarkus.swagger-ui.path=/q/swagger-ui

# ==============================================
# INFORMAÇÕES DA API
# ==============================================
quarkus.smallrye-openapi.info-title=Sistema de Matrícula Acadêmica API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=API para gestão de matrizes curriculares e matrículas de alunos
quarkus.smallrye-openapi.info-contact-name=Matheus Alves
quarkus.smallrye-openapi.info-contact-email=matheusalv.oliveira@gmail.com

# Flyway
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0
quarkus.flyway.locations=classpath:db/migration

# ==============================================
# KEYCLOAK / OIDC (API-FIRST)
# ==============================================

# Keycloak Configuration
quarkus.oidc.auth-server-url=http://localhost:8180/realms/academic-system
quarkus.oidc.client-id=academic-api
quarkus.oidc.credentials.secret=9HCXMQjTHmi0yPqiDOEAD17ILQPcibCG

# Configuração de CORS (para frontend)
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:4200
quarkus.http.cors.methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-max-age=24H
quarkus.http.cors.access-control-allow-credentials=true

# Security
quarkus.http.auth.basic=false
quarkus.security.jaxrs.deny-unauthenticated-access=true

